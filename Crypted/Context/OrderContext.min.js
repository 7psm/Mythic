const shippingMethods=[{id:1,name:"Livraison Express",price:10,delivery:"1 - 3 DAYS"},{id:2,name:"Livraison Classique",price:0,delivery:"3 - 6 DAYS"}],defaultShippingMethod=shippingMethods[1],paymentMethods=["Bank Transfer","Card","PayPal"],productCatalog=[{id:1,name:"50 Euro Prop Bills",basePrice:100,image:"/assets/50.webp"},{id:2,name:"20 Euro Prop Bills",basePrice:100,image:"/assets/20.webp"}],defaultOrderData={name:"",phoneNumber:"",email:"",country:"",address:"",shippingTo:"",postalCode:"",city:"",discord:"",paymentMethod:"",orderItems:[],shippingMethod:defaultShippingMethod,orderNumber:"",orderDate:""};let orderData={...defaultOrderData};const initializeOrderData=()=>{const e=localStorage.getItem("propMoneyCart");if(e)try{const r=JSON.parse(e);orderData={...defaultOrderData,orderItems:r.orderItems||defaultOrderData.orderItems}}catch(e){console.error("Error loading cart from localStorage:",e),orderData={...defaultOrderData}}return orderData},saveCartToStorage=()=>{localStorage.setItem("propMoneyCart",JSON.stringify({orderItems:orderData.orderItems}))},updateOrderData=e=>(orderData={...orderData,...e},orderData),generateOrderNumber=()=>{const e=`PM-${(new Date).getTime().toString().slice(-6)}-${Math.floor(1e4*Math.random()).toString().padStart(4,"0")}`;return updateOrderData({orderNumber:e,orderDate:(new Date).toISOString()}),e},resetOrderData=()=>(orderData={...defaultOrderData,orderItems:orderData.orderItems},orderData),calculateTotal=()=>orderData.orderItems.reduce((e,r)=>e+r.price*r.quantity,0)+orderData.shippingMethod.price,addToCart=e=>{const r=orderData.orderItems.find(r=>r.id===e.id);return orderData.orderItems=r?orderData.orderItems.map(r=>r.id===e.id?{...r,quantity:r.quantity+e.quantity}:r):[...orderData.orderItems,e],saveCartToStorage(),orderData.orderItems},removeFromCart=e=>(orderData.orderItems=orderData.orderItems.filter(r=>r.id!==e),saveCartToStorage(),orderData.orderItems),updateQuantity=(e,r)=>(r<1||(orderData.orderItems=orderData.orderItems.map(t=>t.id===e?{...t,quantity:r}:t),saveCartToStorage()),orderData.orderItems),getOrderData=()=>orderData,getCartItems=()=>orderData.orderItems,getCartCount=()=>orderData.orderItems.reduce((e,r)=>e+(r.quantity||0),0);document.addEventListener("DOMContentLoaded",()=>{initializeOrderData()}),window.OrderContext={shippingMethods:shippingMethods,paymentMethods:paymentMethods,productCatalog:productCatalog,getOrderData:getOrderData,getCartItems:getCartItems,getCartCount:getCartCount,updateOrderData:updateOrderData,generateOrderNumber:generateOrderNumber,resetOrderData:resetOrderData,calculateTotal:calculateTotal,addToCart:addToCart,removeFromCart:removeFromCart,updateQuantity:updateQuantity};