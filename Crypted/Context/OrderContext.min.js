const e=[{id:1,name:"Livraison Express",price:10,delivery:"1 - 3 DAYS"},{id:2,name:"Livraison Classique",price:0,delivery:"3 - 6 DAYS"}],r={name:"",phoneNumber:"",email:"",country:"",address:"",shippingTo:"",postalCode:"",city:"",discord:"",paymentMethod:"",orderItems:[],shippingMethod:e[1],orderNumber:"",orderDate:""};let a={...r};const t=()=>{localStorage.setItem("propMoneyCart",JSON.stringify({orderItems:a.orderItems}))},o=e=>(a={...a,...e},a);document.addEventListener("DOMContentLoaded",()=>{(()=>{const e=localStorage.getItem("propMoneyCart");if(e)try{const t=JSON.parse(e);a={...r,orderItems:t.orderItems||r.orderItems}}catch(e){console.error("Error loading cart from localStorage:",e),a={...r}}})()}),window.OrderContext={shippingMethods:e,paymentMethods:["Bank Transfer","Card","PayPal"],productCatalog:[{id:1,name:"50 Euro Prop Bills",basePrice:100,image:"/public/50.webp"},{id:2,name:"20 Euro Prop Bills",basePrice:100,image:"/public/20.webp"},{id:3,name:"10 Euro Prop Bills",basePrice:100,image:"/public/10.webp"},{id:4,name:"5 Euro Prop Bills",basePrice:100,image:"/public/5.webp"}],getOrderData:()=>a,getCartItems:()=>a.orderItems,getCartCount:()=>a.orderItems.reduce((e,r)=>e+(r.quantity||0),0),updateOrderData:o,generateOrderNumber:()=>{const e=`PM-${(new Date).getTime().toString().slice(-6)}-${Math.floor(1e4*Math.random()).toString().padStart(4,"0")}`;return o({orderNumber:e,orderDate:(new Date).toISOString()}),e},resetOrderData:()=>(a={...r,orderItems:a.orderItems},a),calculateTotal:()=>a.orderItems.reduce((e,r)=>e+r.price*r.quantity,0)+a.shippingMethod.price,addToCart:e=>{const r=a.orderItems.find(r=>r.id===e.id);return a.orderItems=r?a.orderItems.map(r=>r.id===e.id?{...r,quantity:r.quantity+e.quantity}:r):[...a.orderItems,e],t(),a.orderItems},removeFromCart:e=>(a.orderItems=a.orderItems.filter(r=>r.id!==e),t(),a.orderItems),updateQuantity:(e,r)=>(r<1||(a.orderItems=a.orderItems.map(a=>a.id===e?{...a,quantity:r}:a),t()),a.orderItems)};