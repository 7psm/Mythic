export function getDiscountCodes(){try{const e=localStorage.getItem("discountCodes");return e?JSON.parse(e):{}}catch(e){return console.error("❌ Erreur lecture codes promo:",e),{}}}export function encryptData(e,r="checkout_secure_key_2024"){try{return btoa(encodeURIComponent(JSON.stringify(e)+r))}catch(t){return console.error("❌ Erreur chiffrement:",t),null}}export function decryptData(e,r="checkout_secure_key_2024"){try{const t=decodeURIComponent(atob(e));return JSON.parse(t.replace(r,""))}catch(t){return console.error("❌ Erreur déchiffrement:",t),null}}export function updateCartCount(){try{const e=JSON.parse(localStorage.getItem("cart")||"[]"),r=e.reduce((e,r)=>e+(r.quantity||0),0),t=document.querySelector(".cart-count");t&&(t.textContent=r,t.style.display=r>0?"flex":"none")}catch(e){console.error("❌ Erreur mise à jour compteur panier:",e)}}export function formatPrice(e){return`€${Number(e||0).toFixed(2)}`}export function calculateCartTotal(e){return e.reduce((e,r)=>e+r.price*(r.quantity||1),0)}export function safeQuerySelector(e,r=document){try{return r.querySelector(e)}catch(t){return console.error(`❌ Erreur sélection DOM: ${e}`,t),null}}export function safeQuerySelectors(e,r=document){const t={};return e.forEach(e=>{const o=e.replace(/[#.]/g,"").replace(/-/g,"_");t[o]=safeQuerySelector(e,r)}),t}